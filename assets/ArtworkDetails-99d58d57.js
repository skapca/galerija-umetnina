import{_ as k,s as C,e as h,C as w,o as c,c as d,a as t,t as o,u as s,i,f as I,h as S,x as T,F as v,r as $,j as g,y as B,z as D,g as V,p as y,b as x,O as m,B as F,D as z,E,G as H,H as M,I as U,J as b}from"./index-a9519fff.js";import{C as K}from"./CommentDisplay-b6572379.js";const L=a=>(y("data-v-c5e2e70a"),a=a(),x(),a),R={class:"comment-section"},j={class:"comment-box my-4"},G={class:"avatar"},J={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",style:{fill:"rgba(81, 81, 81, 1)",transform:""}},P=L(()=>t("path",{d:"M20 1.999H4c-1.103 0-2 .897-2 2v18l4-4h14c1.103 0 2-.897 2-2v-12c0-1.103-.897-2-2-2zm-6 11H7v-2h7v2zm3-4H7v-2h10v2z"},null,-1)),q=[P],Q=["placeholder"],W={class:"actions"},X={class:"char-count"},Y={__name:"CommentSection",props:["artwork_id"],setup(a){const r=a,u=C(),e=h(""),_=h(w.getAllForArtwork(r.artwork_id));function p(){return B()?e.value===""?!1:(w.addComment(D(),r.artwork_id,e.value),e.value="",_.value=w.getAllForArtwork(r.artwork_id),!0):(u.push({name:"login"}),!1)}return(f,n)=>(c(),d(v,null,[t("h4",null,o(s(i)("comments")),1),t("div",R,[t("div",j,[t("div",G,[(c(),d("svg",J,q))]),I(t("textarea",{class:"comment-input",maxlength:"280",placeholder:s(i)("comment-placeholder"),"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),onKeydown:n[1]||(n[1]=T(V(l=>p(),["exact","prevent"]),["enter"]))},null,40,Q),[[S,e.value]]),t("div",W,[t("div",X,o(e.value.length)+"/280",1),t("button",{class:"comment-button",onClick:n[2]||(n[2]=l=>p())},o(s(i)("post")),1)])]),(c(!0),d(v,null,$(_.value,l=>(c(),d("div",{key:l.id},[g(K,{comment:l},null,8,["comment"])]))),128))])],64))}},Z=k(Y,[["__scopeId","data-v-c5e2e70a"]]);const A=a=>(y("data-v-da1a5f50"),a=a(),x(),a),tt={class:"center-table"},et={class:"table table-striped tabela"},st=A(()=>t("th",{scope:"col"},"#",-1)),ot={scope:"col"},at={scope:"col"},nt={class:"table-group-divider"},lt={scope:"row"},rt={scope:"row"},it={class:"input-group mb-3"},ct=A(()=>t("span",{class:"input-group-text"},"$",-1)),dt=A(()=>t("span",{class:"input-group-text"},".00",-1)),_t={__name:"OffersTable",props:["artwork_id"],setup(a){const r=a,u=C(),e=h(0),_=h(m.getAllForArtwork(r.artwork_id));function p(){return B()?(e.value=+e.value,Number.isInteger(e.value)?e.value<=m.getHighestForArtwork(r.artwork_id)||e.value<=F.findById(r.artwork_id).valuation?(e.value=z("insufficient"),!1):(m.addOffer(D(),r.artwork_id,e.value),e.value=0,_.value=m.getAllForArtwork(r.artwork_id),!0):!1):(u.push({name:"login"}),!1)}return(f,n)=>(c(),d(v,null,[t("h4",null,o(s(i)("offers")),1),t("div",tt,[t("table",et,[t("thead",null,[t("tr",null,[st,t("th",ot,o(s(i)("by")),1),t("th",at,o(s(i)("amount")),1)])]),t("tbody",nt,[(c(!0),d(v,null,$(_.value,(l,N)=>(c(),d("tr",{key:l.id},[t("th",lt,o(_.value.length-N),1),t("td",null,o(l.user_id),1),t("td",null,"$"+o(l.amount),1)]))),128)),t("tr",null,[t("th",rt,o(s(i)("bid")),1),t("td",null,[t("div",it,[ct,I(t("input",{type:"text",class:"form-control","aria-label":"Amount (to the nearest dollar)","onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l)},null,512),[[S,e.value]]),dt])]),t("td",null,[t("button",{onClick:n[1]||(n[1]=l=>p()),type:"button",class:"btn btn-primary"},o(s(i)("offer")),1)])])])])])],64))}},ut=k(_t,[["__scopeId","data-v-da1a5f50"]]);const O=a=>(y("data-v-fba7e339"),a=a(),x(),a),pt={class:"container mt-5 artwork-container"},vt={class:"row"},mt={class:"col-md-6"},ht={id:"carouselExample",class:"carousel slide"},ft={class:"carousel-inner"},wt=["src","alt"],bt=M('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev" data-v-fba7e339><span class="carousel-control-prev-icon" aria-hidden="true" data-v-fba7e339></span><span class="visually-hidden" data-v-fba7e339>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next" data-v-fba7e339><span class="carousel-control-next-icon" aria-hidden="true" data-v-fba7e339></span><span class="visually-hidden" data-v-fba7e339>Next</span></button>',2),gt={class:"col-md-6"},kt={class:"artwork-title"},$t={class:"subtitle"},yt={class:"artist-info"},xt={class:"artist-info"},At={class:"artwork-description"},Ct={class:"valuation"},It={class:"font-weight-bold"},St=O(()=>t("hr",null,null,-1)),Bt={class:"row comments-section"},Dt={class:"col-md-12"},Ft=O(()=>t("hr",null,null,-1)),Ot={class:"row comments-section"},Nt={class:"col-md-12"},Tt={__name:"ArtworkDetails",setup(a){const u=E().params.id,e=F.findById(u);return(_,p)=>(c(),d("div",pt,[t("div",vt,[t("div",mt,[t("div",ht,[t("div",ft,[(c(!0),d(v,null,$(s(e).images,(f,n)=>(c(),d("div",{key:n,class:U("carousel-item"+(n==0?" active":""))},[t("img",{src:"/media/artworks/"+f,class:"d-block image-frame",alt:s(b)(s(e).name)},null,8,wt)],2))),128))]),bt])]),t("div",gt,[t("h2",kt,[H(o(s(b)(s(e).name))+" ",1),t("span",$t,"("+o(s(i)(s(e).type).toLowerCase())+")",1)]),t("p",yt,o(s(e).artist_info),1),t("p",xt,o(s(e).age),1),t("p",At,o(s(b)(s(e).description)),1),t("div",Ct,[t("h4",null,o(s(i)("valuation")),1),t("p",It,"$"+o(s(e).valuation),1)])])]),St,t("div",Bt,[t("div",Dt,[g(ut,{artwork_id:s(e).id},null,8,["artwork_id"])])]),Ft,t("div",Ot,[t("div",Nt,[g(Z,{artwork_id:s(e).id},null,8,["artwork_id"])])])]))}},Et=k(Tt,[["__scopeId","data-v-fba7e339"]]);export{Et as default};
